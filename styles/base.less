/*======================================
=            General Styles            =
======================================*/

// Set default font & color
body {
  .text-font;
  color: @textColor;
}

// Set default link color
a {
  color: @linkColor;
  text-decoration: none;
  &:hover {
    color: @linkHoverColor;
  }
  &.disabled {
    color: #ccc;
  }
  &,
  &:visited {
    .transition(color 0.3s ease-in-out);
  }
}

// Set asterisks on required fields to red
span.required {
  color: rgb(240, 20, 20);
}

.site-wrapper {
  position: relative;
  .flex-box(); // Flexbox for side navigation
  .transform(translate3d(0, 0, 0)); // Set default position when mobile nav is closed
  .transition(transform 0.2s 0s ease-in-out); // Transition content to left when mobile nav is open
  line-height: 1.6em;
  padding: 0;
  width: 100%;
  overflow-x: hidden; // Ensures content stays within the site wrapper
  min-height: 100vh; // Set minimum height of site wrapper to full viewport so sidebar navigation extends to the bottom of the page
  background-color: @siteBgColor;
  h1,
  h2,
  h3 {
    font-weight: normal;
    line-height: 1.2em;
  }
  h1 {
    .heading1Font;
    color: @heading1Color;
  }
  h2 {
    .heading2Font;
    color: @heading2Color;
  }
  h3 {
    .heading3Font;
    color: @heading3Color;
  }
}


/*----------  Header  ----------*/

.site-header {
  .flex(1); // Set flex sizing of sidebar navigation
  background-color: @headerBg;
  text-align: center; // Centering all content
  box-shadow: 0px 0px 6px #222;
  #logoWrapper {
    padding: 20px;
    #logoImage {
      margin: 0;
      a {
        display: block; // Ensure link wraps image properly
      }
      img {
        max-height: @logoSize;
        width: auto;
      }
    }
  }
}

.site-navigation-list {
  padding: 0;
}

.site-navigation-item {
  display: block;
  font-size: 87.5%;
  &+.site-navigation-item {
    margin-top: 10px; // Add margin when multiple nav items are present
  }
  a,
  label {
    .navigation-font;
    color: @navColor;
    text-decoration: none;
    cursor: pointer;
    &:hover {
      color: @navActiveColor;
    }
  }
  &.active-link>a,
  &.active-link>label {
    color: @navActiveColor;
  }
  &.folder {
    .subnav {
      margin-top: 10px;
      .folder-item {
        &+.folder-item {
          margin-top: 5px; // Add margin when multiple folder items are present
        }
        &.active-link {
          >a,
          >label {
            color: @navActiveColor;
          }
        }
      }
    }
  }
}

// Add folder indicator after folder title
.folder {
  label {
    span.fa-angle-down {
      vertical-align: top;
      .transform(rotate(0deg)); // Indicator flips when folder is open
      .transition(transform 0.5s ease-in-out); // Transition for indicator flip
      .folder-closed& {
        .transform(rotate(180deg)); // Default indicator position
      }
    }
  }
}

#siteTitle {
  .site-title-link {
    color: #111;
    font-weight: 400;
    text-decoration: none;
  }
}


/*----------  Main Content  ----------*/

.content-container {
  .flex(4); // Set flex size of main content area
  opacity: 0; // Content starts invisible and becomes visible once content is loaded
  .transition(opacity 0.3s ease-in);
  &.loaded {
    opacity: 1;
  }
  .content-inner {
    padding: 100px 80px 20px;
  }
}

.sqs-block-quote {
  .sqs-block-content {
    >figure {
      max-width: 75%; // Limit width of quote block
      blockquote {
        .quoteBlockFont;
        color: @quoteBlockColor;
      }
      .source {
        .quoteSrcFont;
        color: @quoteSrcColor;
      }
      // Align Quote Left [Tweak]
      .quote-alignment-left & {
        margin-left: 0 auto 0 0;
        blockquote {
          text-align: left;
        }
      }
      // Align Quote Center [Tweak]
      .quote-alignment-center & {
        margin: 0 auto;
        blockquote {
          text-align: center;
        }
      }
      // Align Quote Right [Tweak]
      .quote-alignment-right & {
        margin: 0 0 0 auto;
        blockquote {
          text-align: right;
        }
      }
    }
  }
}


/*----------  Banner  ----------*/

.thumb-wrapper {
  background-color: fade(@bannerOverlayColor, 100%);
  .color-overlay {
    position: absolute;
    top: 0;
    right: 0;
    bottom: 0;
    left: 0;
    background-color: @bannerOverlayColor;
    z-index: 99;
  }
}

.thumb-wrapper {
  position: relative;
  width: 100%;
  height: 320px;
  overflow: hidden;
  padding: 32px;
  figure {
    margin: 0;
  }
  .has-description {
    padding: 80px 0 0;
    .show-page-title & {
      padding: 50px 0 0;
    }
  }
}

#thumbnail {
  position: absolute;
  top: 0;
  left: 0;
  bottom: 0;
  right: 0;
}

.desc-wrapper {
  z-index: 100;
  position: relative;
  width: 100%;
  .border-box();
  margin: 0 auto;
  text-align: center;
  h1.page-title {
    display: none; // Default to page title hidden
    .page-title-font;
    color: @pageTitleColor;
    margin: 0 auto 0.25em;
    .text-shadow();
    .show-page-title & {
      display: block;
    }
    .show-page-title .has-title-only & {
      padding-top: 120px; // Reposition page title when no description is present
    }
  }
  p,
  span a,
  time a {
    .page-description-font;
    color: @pageDescColor;
    margin: 0 auto;
    .text-shadow();
  }
  p+p {
    margin-top: 1.35em;
  } // Set margin when multiple description lines are present
}

.show-page-title .page-description {
  margin-top: 24px;
}

.page-title,
.page-description p,
.item-title,
.item-meta {
  max-width: 36em;
  margin-left: auto;
  margin-right: auto;
}

.page-title:only-child {
  margin-bottom: 0;
}


/*----------  Image Blocks  ----------*/

.design-layout-poster {
  .image-title,
  .image-subtitle {
    .text-shadow();
  }
  .image-button {
    a {
      .transition(opacity 0.3s ease-in-out);
      &:hover {
        opacity: 0.7;
      }
    }
  }
}


/*----------  Footer  ----------*/

.site-footer {
  font-size: 75%;
  .site-footer-content {
    margin: 80px 0px 20px;
    &.empty {
      margin: 0;
    }
  }
}


/*----------  Homepage  ----------*/

body.homepage {}


/*----------  Loading Overlay  ----------*/

.loading-overlay {
  position: fixed;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  padding-top: 30px;
  background-color: @loadingBgColor;
  text-align: center; // Center all content
  z-index: 10001; // Place loading overlay over all other content
  .loading-logo-wrapper {
    .loading-logo {
      img {
        width: auto;
        height: @loadingLogoSize;
        margin: 0 auto;
      }
    }
  }
  .loading-title-wrapper {
    .loading-title {
      .loading-title-font;
      color: @loadingTitleColor;
    }
  }
  .loading-message {
    .loading-message-font;
    color: @loadingMessageColor;
  }
  .loading-icon-wrapper {
    .loading-icon {
      font-size: @loadingIconSize;
      color: @loadingIconColor;
    }
  }
}


/*=====  End of General Styles  ======*/
